(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(4379)}])},4379:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return q}});var s,n,l=r(5893),a=r(7294),i=r(512),d=r(8388);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,d.m6)((0,i.W)(t))}let c=a.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:o("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});c.displayName="Card";let x=a.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:o("flex flex-col space-y-1.5 p-6",r),...s})});x.displayName="CardHeader";let u=a.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("h3",{ref:t,className:o("text-2xl font-semibold leading-none tracking-tight",r),...s})});u.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("p",{ref:t,className:o("text-sm text-muted-foreground",r),...s})}).displayName="CardDescription";let h=a.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:o("p-6 pt-0",r),...s})});function m(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,d.m6)((0,i.W)(t))}h.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:o("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter";let f=a.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{className:"relative w-full overflow-auto",children:(0,l.jsx)("table",{ref:t,className:m("w-full caption-bottom text-sm",r),...s})})});f.displayName="Table",a.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("thead",{ref:t,className:m("[&_tr]:border-b",r),...s})}).displayName="TableHeader";let p=a.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("tbody",{ref:t,className:m("[&_tr:last-child]:border-0",r),...s})});p.displayName="TableBody",a.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("tfoot",{ref:t,className:m("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let g=a.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("tr",{ref:t,className:m("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});g.displayName="TableRow",a.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("th",{ref:t,className:m("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...s})}).displayName="TableHead";let j=a.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("td",{ref:t,className:m("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...s})});function v(e){let{testLog:t}=e;return(0,l.jsx)("div",{className:"bg-[#282c34] text-[#bbc2cf] px-4 py-2 text-xs font-mono w-full whitespace-pre transition-opacity ease-linear",children:t})}function w(e){let t=e.records,[r,s]=(0,a.useState)(null),[i,d]=(0,a.useState)(null),o=(e,t)=>{d(e===i?null:e),t&&t.log&&s((null==r?void 0:r.name)===t.name?null:t)};return(0,l.jsx)("div",{children:(0,l.jsx)(f,{children:(0,l.jsx)(p,{children:t.map((e,t)=>(0,l.jsxs)(a.Fragment,{children:[(0,l.jsxs)(g,{onClick:()=>o(t,e),className:"cursor-pointer ".concat(i===t?"bg-muted":""),children:[(0,l.jsx)(j,{className:"font-medium",children:e.name}),(0,l.jsx)(j,{className:"font-medium ".concat(e.state===n.success?"text-green-500":e.state===n.dropped?"text-red-500":"text-yellow-500"),children:e.state}),(0,l.jsx)(j,{children:e.duration})]}),i===t&&e.tests&&e.tests.length>0&&(0,l.jsx)(g,{children:(0,l.jsx)(j,{colSpan:3,children:(0,l.jsx)(w,{records:e.tests})})}),(null==r?void 0:r.log)&&r.name==e.name&&(0,l.jsx)(g,{children:(0,l.jsx)(v,{testName:r.name,testLog:r.log})})]},t))})})})}j.displayName="TableCell",a.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("caption",{ref:t,className:m("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption",(s=n||(n={})).success="success",s.dropped="dropped",s.skipped="skipped";var N=r(1758);let b="/dev_mode/cmd";var y=r(1465);let k=(0,r(5139).j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),C=a.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:a=!1,...o}=e,c=a?y.g7:"button";return(0,l.jsx)(c,{className:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,d.m6)((0,i.W)(t))}(k({variant:s,size:n,className:r})),ref:t,...o})});function T(e){let[t,r]=(0,a.useState)(!1),s=async()=>{r(!0);try{await fetch(b)}catch(e){console.error("Error on run tests:",e)}finally{r(!1),e.reload(null)}};return(0,l.jsx)(C,{onClick:s,style:{justifyContent:"flex-end"},children:(0,l.jsx)("div",{className:t?"animate-bounce":"",children:(0,l.jsx)(L,{})})})}function L(e){return(0,l.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"100px",fill:"#434343",children:[(0,l.jsx)("path",{d:"M200-120q-51 0-72.5-45.5T138-250l222-270v-240h-40q-17 0-28.5-11.5T280-800q0-17 11.5-28.5T320-840h320q17 0 28.5 11.5T680-800q0 17-11.5 28.5T640-760h-40v240l222 270q32 39 10.5 84.5T760-120H200Zm80-120h400L544-400H416L280-240Zm-80 40h560L520-492v-268h-80v268L200-200Zm280-280Z"}),(0,l.jsx)("path",{d:"M750-0v-560l440 280Zm80-280Zm0 134 210-134-210-134v268Z"})]})}function R(e){var t,r;let s=(0,N.ZP)("/dev_mode/check",fetch);if(s.isLoading)return(0,l.jsx)("div",{children:"loading..."});let n=e.content,a=(null===(t=s.data)||void 0===t?void 0:t.status)&&(null===(r=s.data)||void 0===r?void 0:r.status)<300;return(0,l.jsx)("div",{className:"z-10 w-full items-center justify-between font-mono text-sm lg:flex",children:(0,l.jsxs)(c,{className:"w-full",children:[(0,l.jsx)(x,{className:"flex items-left justify-between",children:(0,l.jsxs)("div",{className:"items-center grid grid-cols-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(_,{onClick:()=>fetch(b),className:"h-3 w-3 text-muted-foreground"}),(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:n.timestamp})]}),(0,l.jsx)(u,{children:n.title}),!0===a&&(0,l.jsx)(T,{reload:e.reload})]})}),(0,l.jsxs)(h,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(Z,{className:"h-6 w-6 text-primary"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-lg font-medium",children:n.total}),(0,l.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Tests"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(W,{className:"h-6 w-6 text-primary"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-lg font-medium",children:[n.coverage,"%"]}),(0,l.jsx)("div",{className:"text-sm text-muted-foreground",children:"Test Coverage"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(M,{className:"h-5 w-5 text-green-500"}),(0,l.jsxs)("div",{className:"text-sm text-muted-foreground",children:[n.success," Success"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(S,{className:"h-5 w-5 text-red-500"}),(0,l.jsxs)("div",{className:"text-sm text-muted-foreground",children:[n.dropped," Dropped"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(B,{className:"h-5 w-5 text-yellow-500"}),(0,l.jsxs)("div",{className:"text-sm text-muted-foreground",children:[n.skipped," Skipped"]})]})]})]}),(0,l.jsx)("div",{className:"mt-6",children:(0,l.jsx)(w,{records:n.tests})})]})]})})}function _(e){return(0,l.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M8 2v4"}),(0,l.jsx)("path",{d:"M16 2v4"}),(0,l.jsx)("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}),(0,l.jsx)("path",{d:"M3 10h18"})]})}function M(e){return(0,l.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M20 6 9 17l-5-5"})})}function B(e){return(0,l.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("rect",{x:"14",y:"4",width:"4",height:"16",rx:"1"}),(0,l.jsx)("rect",{x:"6",y:"4",width:"4",height:"16",rx:"1"})]})}function W(e){return(0,l.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("line",{x1:"19",x2:"5",y1:"5",y2:"19"}),(0,l.jsx)("circle",{cx:"6.5",cy:"6.5",r:"2.5"}),(0,l.jsx)("circle",{cx:"17.5",cy:"17.5",r:"2.5"})]})}function Z(e){return(0,l.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2"}),(0,l.jsx)("path",{d:"M8.5 2h7"}),(0,l.jsx)("path",{d:"M14.5 16h-5"})]})}function S(e){return(0,l.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M18 6 6 18"}),(0,l.jsx)("path",{d:"m6 6 12 12"})]})}function q(){let{data:e,error:t,isLoading:r,mutate:s}=(0,N.ZP)("/utsukushii.json",e=>fetch(e).then(e=>e.text()));return t||!e?(0,l.jsx)("div",{children:"failed to load"}):r?(0,l.jsx)("div",{children:"loading..."}):(0,l.jsx)(R,{reload:()=>s(),content:JSON.parse(e)})}C.displayName="Button"}},function(e){e.O(0,[955,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);